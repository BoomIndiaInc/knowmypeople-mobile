(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4cNi":function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),o=t("mrSG"),i=t("ZZ/e"),e=t("CFL1"),r=t("gIcY"),s=t("5Wfd"),a=t("RfBd"),b=function(){function n(n,l,t,u,o){var i=this;this.navController=n,this.userService=l,this.translateService=t,this.formBuilder=u,this.componentUtil=o,this.backgrounds=a.d,this.slideOpts=s.c,this.signupForm=u.group({login:["",r.l.required],email:["",r.l.compose([r.l.required,r.l.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])],password:["",r.l.compose([r.l.minLength(4),r.l.required])],"confirm-password":["",r.l.compose([r.l.minLength(4),r.l.required])],langKey:["en",r.l.required]},{validator:Object(s.b)("password","confirm-password")}),this.translateService.get(["SIGNUP_ERROR","SIGNUP_SUCCESS","EXISTING_USER_ERROR","INVALID_PASSWORD_ERROR","NETWORK_ERROR"]).subscribe((function(n){i.signupErrorString=n.SIGNUP_ERROR,i.signupSuccessString=n.SIGNUP_SUCCESS,i.existingUserError=n.EXISTING_USER_ERROR,i.invalidPasswordError=n.INVALID_PASSWORD_ERROR,i.networkError=n.NETWORK_ERROR}))}return n.prototype.ngOnInit=function(){},n.prototype.slidesDidLoad=function(n){n.startAutoplay()},n.prototype.doSignup=function(){var n=this;this.componentUtil.showLoading((function(){var l=n.signupForm.value;delete l["confirm-password"],n.userService.signup(l).subscribe((function(){return o.b(n,void 0,void 0,(function(){return o.e(this,(function(n){return this.componentUtil.showToast(this.signupSuccessString,{cssClass:"toast-success"},!0),this.signupForm.reset(),this.componentUtil.hideLoading(),[2]}))}))}),(function(l){return o.b(n,void 0,void 0,(function(){var n,t;return o.e(this,(function(u){return n=JSON.parse(l.error),t=this.signupErrorString,400===l.status&&n.type.includes("already-used")?t=this.existingUserError:400===l.status&&"error.validation"===n.message&&"password"===n.fieldErrors[0].field&&"Size"===n.fieldErrors[0].message?t=this.invalidPasswordError:"error.network"===n.message&&(t=this.networkError),this.componentUtil.showToast(t,{cssClass:"toast-fail"},!0),this.componentUtil.hideLoading(),[2]}))}))}))}),"REGISTERING")},n.prototype.onOpenLogin=function(){},n}(),g=function(){return function(){}}(),c=t("pMnS"),d=t("oBZk"),p=t("A7o+"),h=t("ZYCi"),m=t("Ip0R"),f=u.rb({encapsulation:0,styles:[[".scroll-content[_ngcontent-%COMP%]{margin-top:0!important}.logo[_ngcontent-%COMP%]{width:100%;height:auto;padding-top:4vh;margin-bottom:9vh}span[_ngcontent-%COMP%]{color:#fff}.slide-background[_ngcontent-%COMP%]{background-size:cover;background-position:center;background-repeat:no-repeat;border-color:transparent}.slide-zoom[_ngcontent-%COMP%]{background:rgba(32,32,32,.2)!important;height:100%}ion-slides[_ngcontent-%COMP%]{height:100vh}ion-item[_ngcontent-%COMP%]{color:#fff!important;padding-left:10px!important;margin-bottom:10px;background-color:transparent!important;font-size:.9em;--background:transparent;--background-focused:var(--ion-item-background-focused,var(--ion-color-step-100,transparent))}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#fff!important}.signup-container[_ngcontent-%COMP%]{color:#fff;position:absolute;top:0;padding:10vw;text-align:center;width:100%;margin:0 auto;z-index:2}ion-button[_ngcontent-%COMP%]{opacity:.8}.signin[_ngcontent-%COMP%]{text-align:middle;padding-top:10px}ion-footer[_ngcontent-%COMP%]{height:47px}.footer[_ngcontent-%COMP%]{text-align:center;min-height:47px}.footer-md[_ngcontent-%COMP%]::before{border-top:1px solid rgba(255,255,255,.6);background-image:none}ion-fab-button[_ngcontent-%COMP%]{margin:8px;width:40px;height:40px;line-height:40px}"]],data:{}});function C(n){return u.Nb(0,[(n()(),u.tb(0,0,null,null,61,"ion-content",[["color","dark"]],null,null,null,d.ab,d.n)),u.sb(1,49152,null,0,i.w,[u.h,u.k,u.z],{color:[0,"color"]},null),(n()(),u.tb(2,0,null,0,59,"div",[["class","signup-container"]],null,null,null,null,null)),(n()(),u.tb(3,0,null,null,0,"img",[["class","logo"],["src","assets/img/logo/logo-KnowMyPeople.png"]],null,null,null,null,null)),(n()(),u.tb(4,0,null,null,57,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var o=!0;return"submit"===l&&(o=!1!==u.Fb(n,6).onSubmit(t)&&o),"reset"===l&&(o=!1!==u.Fb(n,6).onReset()&&o),o}),null,null)),u.sb(5,16384,null,0,r.p,[],null,null),u.sb(6,540672,null,0,r.d,[[8,null],[8,null]],{form:[0,"form"]},null),u.Ib(2048,null,r.a,null,[r.d]),u.sb(8,16384,null,0,r.i,[[4,r.a]],null,null),(n()(),u.tb(9,0,null,null,9,"ion-item",[],null,null,null,d.kb,d.x)),u.sb(10,49152,null,0,i.J,[u.h,u.k,u.z],null,null),(n()(),u.tb(11,0,null,0,7,"ion-input",[["formControlName","login"],["name","login"],["type","string"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var o=!0;return"ionBlur"===l&&(o=!1!==u.Fb(n,12)._handleBlurEvent(t.target)&&o),"ionChange"===l&&(o=!1!==u.Fb(n,12)._handleInputEvent(t.target)&&o),o}),d.jb,d.w)),u.sb(12,16384,null,0,i.Qb,[u.k],null,null),u.Ib(1024,null,r.f,(function(n){return[n]}),[i.Qb]),u.sb(14,671744,null,0,r.c,[[3,r.a],[8,null],[8,null],[6,r.f],[2,r.o]],{name:[0,"name"]},null),u.Ib(2048,null,r.g,null,[r.c]),u.sb(16,16384,null,0,r.h,[[4,r.g]],null,null),u.sb(17,49152,null,0,i.I,[u.h,u.k,u.z],{name:[0,"name"],placeholder:[1,"placeholder"],type:[2,"type"]},null),u.Hb(131072,p.i,[p.j,u.h]),(n()(),u.tb(19,0,null,null,9,"ion-item",[],null,null,null,d.kb,d.x)),u.sb(20,49152,null,0,i.J,[u.h,u.k,u.z],null,null),(n()(),u.tb(21,0,null,0,7,"ion-input",[["formControlName","email"],["name","email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var o=!0;return"ionBlur"===l&&(o=!1!==u.Fb(n,22)._handleBlurEvent(t.target)&&o),"ionChange"===l&&(o=!1!==u.Fb(n,22)._handleInputEvent(t.target)&&o),o}),d.jb,d.w)),u.sb(22,16384,null,0,i.Qb,[u.k],null,null),u.Ib(1024,null,r.f,(function(n){return[n]}),[i.Qb]),u.sb(24,671744,null,0,r.c,[[3,r.a],[8,null],[8,null],[6,r.f],[2,r.o]],{name:[0,"name"]},null),u.Ib(2048,null,r.g,null,[r.c]),u.sb(26,16384,null,0,r.h,[[4,r.g]],null,null),u.sb(27,49152,null,0,i.I,[u.h,u.k,u.z],{name:[0,"name"],placeholder:[1,"placeholder"],type:[2,"type"]},null),u.Hb(131072,p.i,[p.j,u.h]),(n()(),u.tb(29,0,null,null,9,"ion-item",[],null,null,null,d.kb,d.x)),u.sb(30,49152,null,0,i.J,[u.h,u.k,u.z],null,null),(n()(),u.tb(31,0,null,0,7,"ion-input",[["formControlName","password"],["name","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var o=!0;return"ionBlur"===l&&(o=!1!==u.Fb(n,32)._handleBlurEvent(t.target)&&o),"ionChange"===l&&(o=!1!==u.Fb(n,32)._handleInputEvent(t.target)&&o),o}),d.jb,d.w)),u.sb(32,16384,null,0,i.Qb,[u.k],null,null),u.Ib(1024,null,r.f,(function(n){return[n]}),[i.Qb]),u.sb(34,671744,null,0,r.c,[[3,r.a],[8,null],[8,null],[6,r.f],[2,r.o]],{name:[0,"name"]},null),u.Ib(2048,null,r.g,null,[r.c]),u.sb(36,16384,null,0,r.h,[[4,r.g]],null,null),u.sb(37,49152,null,0,i.I,[u.h,u.k,u.z],{name:[0,"name"],placeholder:[1,"placeholder"],type:[2,"type"]},null),u.Hb(131072,p.i,[p.j,u.h]),(n()(),u.tb(39,0,null,null,9,"ion-item",[],null,null,null,d.kb,d.x)),u.sb(40,49152,null,0,i.J,[u.h,u.k,u.z],null,null),(n()(),u.tb(41,0,null,0,7,"ion-input",[["formControlName","confirm-password"],["name","confirm-password"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var o=!0;return"ionBlur"===l&&(o=!1!==u.Fb(n,42)._handleBlurEvent(t.target)&&o),"ionChange"===l&&(o=!1!==u.Fb(n,42)._handleInputEvent(t.target)&&o),o}),d.jb,d.w)),u.sb(42,16384,null,0,i.Qb,[u.k],null,null),u.Ib(1024,null,r.f,(function(n){return[n]}),[i.Qb]),u.sb(44,671744,null,0,r.c,[[3,r.a],[8,null],[8,null],[6,r.f],[2,r.o]],{name:[0,"name"]},null),u.Ib(2048,null,r.g,null,[r.c]),u.sb(46,16384,null,0,r.h,[[4,r.g]],null,null),u.sb(47,49152,null,0,i.I,[u.h,u.k,u.z],{name:[0,"name"],placeholder:[1,"placeholder"],type:[2,"type"]},null),u.Hb(131072,p.i,[p.j,u.h]),(n()(),u.tb(49,0,null,null,3,"ion-button",[["class","ion-margin"],["color","primary"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.doSignup()&&u),u}),d.Q,d.d)),u.sb(50,49152,null,0,i.m,[u.h,u.k,u.z],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),u.Lb(51,0,[" ",""])),u.Hb(131072,p.i,[p.j,u.h]),(n()(),u.tb(53,0,null,null,8,"p",[["class","signin"],["color","light"],["routerLink","/login"]],null,[[null,"click"]],(function(n,l,t){var o=!0;return"click"===l&&(o=!1!==u.Fb(n,54).onClick()&&o),"click"===l&&(o=!1!==u.Fb(n,55).onClick(t)&&o),o}),null,null)),u.sb(54,16384,null,0,h.o,[h.n,h.a,[8,null],u.D,u.k],{routerLink:[0,"routerLink"]},null),u.sb(55,737280,null,0,i.Ob,[m.g,i.Lb,u.k,h.n,[2,h.o]],null,null),(n()(),u.Lb(56,null,[""," "])),u.Hb(131072,p.i,[p.j,u.h]),(n()(),u.tb(58,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),u.Lb(59,null,["",""])),u.Hb(131072,p.i,[p.j,u.h]),(n()(),u.Lb(-1,null,["."]))],(function(n,l){var t=l.component;n(l,1,0,"dark"),n(l,6,0,t.signupForm),n(l,14,0,"login"),n(l,17,0,"login",u.xb(1,"",u.Mb(l,17,1,u.Fb(l,18).transform("USERNAME")),""),"string"),n(l,24,0,"email"),n(l,27,0,"email",u.xb(1,"",u.Mb(l,27,1,u.Fb(l,28).transform("EMAIL")),""),"email"),n(l,34,0,"password"),n(l,37,0,"password",u.xb(1,"",u.Mb(l,37,1,u.Fb(l,38).transform("PASSWORD")),""),"password"),n(l,44,0,"confirm-password"),n(l,47,0,"confirm-password",u.xb(1,"",u.Mb(l,47,1,u.Fb(l,48).transform("CONFIRM_PASSWORD")),""),"text"),n(l,50,0,"primary",!t.signupForm.valid),n(l,54,0,"/login"),n(l,55,0)}),(function(n,l){n(l,4,0,u.Fb(l,8).ngClassUntouched,u.Fb(l,8).ngClassTouched,u.Fb(l,8).ngClassPristine,u.Fb(l,8).ngClassDirty,u.Fb(l,8).ngClassValid,u.Fb(l,8).ngClassInvalid,u.Fb(l,8).ngClassPending),n(l,11,0,u.Fb(l,16).ngClassUntouched,u.Fb(l,16).ngClassTouched,u.Fb(l,16).ngClassPristine,u.Fb(l,16).ngClassDirty,u.Fb(l,16).ngClassValid,u.Fb(l,16).ngClassInvalid,u.Fb(l,16).ngClassPending),n(l,21,0,u.Fb(l,26).ngClassUntouched,u.Fb(l,26).ngClassTouched,u.Fb(l,26).ngClassPristine,u.Fb(l,26).ngClassDirty,u.Fb(l,26).ngClassValid,u.Fb(l,26).ngClassInvalid,u.Fb(l,26).ngClassPending),n(l,31,0,u.Fb(l,36).ngClassUntouched,u.Fb(l,36).ngClassTouched,u.Fb(l,36).ngClassPristine,u.Fb(l,36).ngClassDirty,u.Fb(l,36).ngClassValid,u.Fb(l,36).ngClassInvalid,u.Fb(l,36).ngClassPending),n(l,41,0,u.Fb(l,46).ngClassUntouched,u.Fb(l,46).ngClassTouched,u.Fb(l,46).ngClassPristine,u.Fb(l,46).ngClassDirty,u.Fb(l,46).ngClassValid,u.Fb(l,46).ngClassInvalid,u.Fb(l,46).ngClassPending),n(l,51,0,u.Mb(l,51,0,u.Fb(l,52).transform("SIGNUP"))),n(l,56,0,u.Mb(l,56,0,u.Fb(l,57).transform("EXIST_ACCOUNT_MESSAGE"))),n(l,59,0,u.Mb(l,59,0,u.Fb(l,60).transform("LOGIN_HERE")))}))}function v(n){return u.Nb(0,[(n()(),u.tb(0,0,null,null,1,"app-signup",[],null,null,null,C,f)),u.sb(1,114688,null,0,b,[i.Lb,e.a,p.j,r.b,s.a],null,null)],(function(n,l){n(l,1,0)}),null)}var F=u.pb("app-signup",b,v,{},{},[]);t.d(l,"SignupPageModuleNgFactory",(function(){return k}));var k=u.qb(g,[],(function(n){return u.Cb([u.Db(512,u.j,u.bb,[[8,[c.a,F]],[3,u.j],u.x]),u.Db(4608,m.k,m.j,[u.u,[2,m.r]]),u.Db(4608,r.n,r.n,[]),u.Db(4608,i.c,i.c,[u.z,u.g]),u.Db(4608,i.Kb,i.Kb,[i.c,u.j,u.q]),u.Db(4608,i.Nb,i.Nb,[i.c,u.j,u.q]),u.Db(4608,r.b,r.b,[]),u.Db(1073742336,m.b,m.b,[]),u.Db(1073742336,r.m,r.m,[]),u.Db(1073742336,r.e,r.e,[]),u.Db(1073742336,i.Gb,i.Gb,[]),u.Db(1073742336,h.p,h.p,[[2,h.u],[2,h.n]]),u.Db(1073742336,p.g,p.g,[]),u.Db(1073742336,r.k,r.k,[]),u.Db(1073742336,g,g,[]),u.Db(1024,h.l,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);